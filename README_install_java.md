# Get Java working and test

Setting up java to run on my linux box.

## Get java

* there are two major java "forks", Oracle and OpenJDK
* use openJDK: https://openjdk.java.net/projects/jdk/
* install the latest GA (general availability) 
* on minty linux, thats :

Get the latest:
```
steve@minty:~/Desktop$ sudo apt-get install openjdk-17-jdk
...
(this takes about 10 mins)

```

List the alternatives, select the one you want:

```
steve@minty:~/Desktop$ sudo update-alternatives --config java
There are 3 choices for the alternative java (providing /usr/bin/java).

  Selection    Path                                            Priority   Status
------------------------------------------------------------
* 0            /usr/lib/jvm/java-17-openjdk-amd64/bin/java      1711      auto mode
  1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode
  2            /usr/lib/jvm/java-17-openjdk-amd64/bin/java      1711      manual mode
  3            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode

```

Confirm the version:

```
steve@minty:~/Desktop$ java --version
openjdk 17.0.2 2022-01-18
OpenJDK Runtime Environment (build 17.0.2+8-Ubuntu-120.04)
OpenJDK 64-Bit Server VM (build 17.0.2+8-Ubuntu-120.04, mixed mode, sharing)
```

Test installation


```
  479  cd projects/
  481  mkdir java_hello
  482  cd java_hello
  483  mkdir -p com/test777767ont
  484  vim com/777767ont/HelloWorld.java
  
```

Create this file:

steve@minty:~/projects/java_hello$ cat ./com/test777767ont/HelloWorld.java 

```
package com.test777767ont;

public class HelloWorld {
	public static void main(String [] args) {
		System.out.println("Hello world.");
	}
}
```

Generate the bytecode (compile)

```

steve@minty:~/projects/java_hello$ javac ./com/test777767ont/HelloWorld.java
steve@minty:~/projects/java_hello$ tree
.
└── com
    └── test777767ont
        ├── HelloWorld.class   <---- generated byte code
        └── HelloWorld.java

2 directories, 2 files
```

Run

```
steve@minty:~/projects/java_hello$ java com.test777767ont.HelloWorld
Hello world.

```

### CLASSPATH notes

This is one of the most annoying things in Java, and it trips up a lot of new programmers.

The classpath(s) are directory paths to the ROOT of the class hierachy.

By default, the classpath will be your CWD (aka .)

So the previous execution could have been done:

```
steve@minty:~/projects/java_hello$ java  -cp . com.test777767ont.HelloWorld
Hello world.
```

Where the -cp prepends the classpath.  (class path can also be set via an environment variable CLASSPATH).

The thing that catches folks is that Java expects a directory stucture. 
So you don't give a path to the class but to the top/root of its structure.

Well, it annoyed me anyway.


